# JJK Incidents - Frontend

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –¥–µ–¥—É–∫—Ü–∏–æ–Ω–Ω–æ–π –∏–≥—Ä—ã "–ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã –î–∑—é–¥–∑—é—Ü—É".

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **React 18** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Vite** - —Å–±–æ—Ä—â–∏–∫ –∏ dev-—Å–µ—Ä–≤–µ—Ä
- **Socket.io** - real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è

## üöÄ –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
# –∏–ª–∏
yarn install
# –∏–ª–∏
pnpm install
```

### –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è `http://localhost:5173`

Vite –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –±—ç–∫–µ–Ω–¥—É (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `vite.config.ts`):
- `/api/*` ‚Üí `http://95.81.121.225:4000/api/*`
- `/socket.io/*` ‚Üí `http://95.81.121.225:4000/socket.io/*`

### –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
npm run build
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ `dist/`

### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä prod-—Å–±–æ—Ä–∫–∏

```bash
npm run preview
```

## üì¶ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### –ß–µ—Ä–µ–∑ CLI

```bash
npm run build
vercel --prod
```

### –ß–µ—Ä–µ–∑ GitHub

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ Vercel Dashboard
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Root Directory:** `frontend`
   - **Framework:** Vite
   - **Build Command:** `npm run build`
   - **Output Directory:** `dist`

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `vercel.json`:
- `/api/*` ‚Üí –±—ç–∫–µ–Ω–¥
- `/socket.io/*` ‚Üí –±—ç–∫–µ–Ω–¥ WebSocket

## üåê Production URLs

- **Frontend:** https://jjk-incidents.vercel.app
- **Backend:** http://95.81.121.225:4000

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/      # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Game/       # –ò–≥—Ä–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Lobby/      # –õ–æ–±–±–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ contexts/       # React contexts (Socket, Game, Music)
‚îÇ   ‚îú‚îÄ‚îÄ admin/          # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ config.ts       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API URLs
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx         # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ frontend.tsx    # Entry point
‚îú‚îÄ‚îÄ public/             # –°—Ç–∞—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ index.html          # HTML entry point
‚îú‚îÄ‚îÄ vite.config.ts      # Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ vercel.json         # Vercel rewrites
‚îî‚îÄ‚îÄ package.json        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å WebSocket

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
```
Connecting to WebSocket server: <URL>
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ CORS –∏–ª–∏ Mixed Content - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
1. –ë—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –Ω–∞ `95.81.121.225:4000`
2. –í `backend/src/server.ts` –µ—Å—Ç—å –≤–∞—à –¥–æ–º–µ–Ω –≤ `allowedOrigins`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Socket.io –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ HTTP long-polling (–Ω–µ WebSocket), –ø–æ—Ç–æ–º—É —á—Ç–æ Vercel –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebSocket rewrites. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!

### API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. `vercel.json` - rewrites –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
2. `vite.config.ts` - proxy –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
3. `src/config.ts` - –ø—É—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ (`''` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Vite Docs](https://vitejs.dev/)
- [React Docs](https://react.dev/)
- [Socket.io Docs](https://socket.io/docs/v4/)
- [Vercel Docs](https://vercel.com/docs)
